{% extends "_layouts/cp" %}

{% set title = "Redirect settings"|t('vredirect') %}

{% set fullPageForm = true %}

{% set crumbs = [
    { label: "Settings"|t('app'), url: url('settings') }
] %}

{% block sidebar %}

    {% if pathPrefix is not defined %}
        {% set pathPrefix = '' %}
    {% endif %}

    {% set selectedNavItem = "settings" %}
    {% include "vredirect/nav" %}

{% endblock %}

{% import "_includes/forms" as forms %}

{% block content %}
    {{ actionInput('vredirect/settings/save-settings') }}
    <input type="hidden" name="action" value="">
    {{ forms.lightswitchField({
        label:        "Activate redirects"|t('vredirect'),
        instructions: "This switch activate/de-activate all the entered redirects without removing them."|t('vredirect'),
        id:           'redirectsActive',
        name:         'redirectsActive',
        on:           settings.redirectsActive,
        errors:       settings.getErrors('redirectsActive')
    }) }}

    {{ forms.lightswitchField({
        label:        "Use a Catch All page template"|t('vredirect'),
        instructions: "All the not existing urls are redirected to this page. We also register the missed urls."|t('vredirect'),
        id:           'catchAllActive',
        name:         'catchAllActive',
        on:           settings.catchAllActive,
        errors:       settings.getErrors('catchAllActive')
    }) }}

{% endblock content %}
